{% extends "base.html" %}
{% load static %}

{% block title %}Meus Personagens Favoritos{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'lists/css/characters_favorites.css' %}">

<div class="character-page-container">
    <h1 class="section-title">❤️ Meus Personagens Favoritos</h1>

    <section class="character-search-container" id="search-section">
        <input type="text" id="character-search-input" placeholder="Buscar personagem para adicionar...">
        <button onclick="searchCharacters()" class="btn-primary">Buscar</button>
    </section>

    <section id="results" class="results-grid"></section>
    
    <hr id="results-divider" style="display: none; margin: 3rem 0; border-color: #444;">

    <section id="favorites" class="favorites-grid">
        {% if not favorites %}
            <div class="empty-list-container" id="empty-list-view">
                <p class="empty-list-message">Sua lista de favoritos está vazia.</p>
                <button class="btn-success" onclick="showSearch()">Adicionar Personagens</button>
            </div>
        {% else %}
            {% for fav in favorites %}
                <div class="char-card" id="fav-card-{{ fav.mal_id }}">
                    <img src="{{ fav.image_url }}" alt="{{ fav.name }}">
                    <h3>{{ fav.name }}</h3>
                    <button class="btn-remove" onclick="removeFavorite('{{ fav.mal_id }}')">Remover ❌</button>
                </div>
            {% endfor %}
        {% endif %}
    </section>
</div>

{% csrf_token %}
{% endblock %}